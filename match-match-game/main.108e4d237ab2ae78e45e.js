(()=>{"use strict";var e={764:(e,t,n)=>{n.r(t)},430:(e,t,n)=>{n.r(t)},594:(e,t,n)=>{n.r(t)},953:(e,t,n)=>{n.r(t)},763:(e,t,n)=>{n.r(t)},863:(e,t,n)=>{n.r(t)},978:(e,t,n)=>{n.r(t)},115:(e,t,n)=>{n.r(t)},788:(e,t,n)=>{n.r(t)},818:(e,t,n)=>{n.r(t)},563:(e,t,n)=>{n.r(t)},279:(e,t,n)=>{n.r(t)},752:function(e,t,n){var s=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))((function(i,o){function a(e){try{l(s.next(e))}catch(e){o(e)}}function r(e){try{l(s.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,r)}l((s=s.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.App=void 0;const i=n(229),o=n(366);t.App=class{constructor(e){this.rootElement=e,this.header=new o.Header,this.game=new i.Game,this.rootElement.appendChild(this.header.element),this.rootElement.appendChild(this.game.element)}start(){return s(this,void 0,void 0,(function*(){const e=yield fetch("./images.json"),t=(yield e.json())[0],n=t.images.map((e=>`${t.category}/${e}`));this.game.newGame(n)}))}}},981:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BestScore=void 0;const s=n(583);n(764);class i extends s.BaseComponent{constructor(){super("div",["about-game"]),this.element.innerHTML="\n    <h1>Best players</h1>\n    "}}t.BestScore=i},226:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AboutGame=void 0;const s=n(583);n(430);class i extends s.BaseComponent{constructor(){super("div",["about-game"]),this.element.innerHTML='\n    <div class="block-wrapper">\n    <div class="top-blocks">\n      <div class="block">\n        <p class="block__text">\n          1) Register new player in game\n        </p>\n      </div>\n      <div class="block register-img">\n      </div>\n    </div>\n    <div class="middle-blocks">\n      <div class="block">\n        <p class="block-text">2) Configure your game settings</p>\n      </div>\n      <div class="block settings-img">\n      </div>\n    </div>\n    <div class="bottom-blocks">\n      <div class="block">\n        <p class="block-text">\n          3) Start you new game! Remember card positions and match it before times up.\n        </p>\n      </div>\n      <div class="block game-img">\n      </div>\n    </div>\n  </div>\n    '}}t.AboutGame=i},583:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaseComponent=void 0,t.BaseComponent=class{constructor(e="div",t=[]){this.element=document.createElement(e),this.element.classList.add(...t)}}},113:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Button=void 0;const s=n(583);n(594);class i extends s.BaseComponent{constructor(){super("button",["stop-button"]),this.element.innerHTML="\n  <p class='button__text'>Stop Game</p>\n  "}}t.Button=i},977:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Card=void 0,n(953);const s=n(583);class i extends s.BaseComponent{constructor(e){super("div",["card-container"]),this.image=e,this.isFlipped=!1,this.element.innerHTML=`\n      <div class="card">\n        <div class="card__front" style="background-image: url('./images/${e}')"></div>\n        <div class="card__back"></div>\n      </div>\n    `}flipToBack(){return this.isFlipped=!0,this.flip(!0)}flipToFront(){return this.isFlipped=!1,this.flip()}flip(e=!1){return new Promise((t=>{this.element.classList.toggle("flipped",e),this.element.addEventListener("transitionend",(()=>t()),{once:!0})}))}}t.Card=i},249:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CardsField=void 0,n(763);const s=n(583),i=n(310);class o extends s.BaseComponent{constructor(){super("div",["cards-field"]),this.cards=[]}clear(){this.cards=[],this.element.innerHTML=""}addCards(e){this.cards=e.slice(0,i.settings.complexity),this.cards.forEach((e=>this.element.appendChild(e.element))),setTimeout((()=>{this.cards.forEach((e=>e.flipToBack()))}),1e3*i.settings.SHOW_TIME)}}t.CardsField=o},286:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GameSettings=void 0;const s=n(583);n(863);class i extends s.BaseComponent{constructor(){super("div",["game-settings"]),this.element.innerHTML="\n    <h1>Game settings</h1>\n    "}}t.GameSettings=i},229:function(e,t,n){var s=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))((function(i,o){function a(e){try{l(s.next(e))}catch(e){o(e)}}function r(e){try{l(s.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,r)}l((s=s.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Game=void 0;const i=n(680),o=n(583),a=n(977),r=n(249),l=n(610);n(978);const d=n(310);class c extends o.BaseComponent{constructor(){super("main",["wrapper"]),this.isAnimation=!1,this.cardsField=new r.CardsField,this.timer=new l.Timer,this.element.appendChild(this.timer.element),this.element.appendChild(this.cardsField.element)}newGame(e){this.cardsField.clear();const t=e.concat(e).map((e=>new a.Card(e))).sort((()=>Math.random()-.5));t.forEach((e=>{e.element.addEventListener("click",(()=>this.cardHandler(e)))})),this.cardsField.addCards(t),this.timer.timerInterval(d.settings.SHOW_TIME)}cardHandler(e){return s(this,void 0,void 0,(function*(){if(!this.isAnimation&&e.isFlipped){if(this.isAnimation=!0,yield e.flipToFront(),!this.activeCard)return this.activeCard=e,void(this.isAnimation=!1);this.activeCard.image!==e.image&&(yield i.delay(d.settings.FLIP_DELAY),yield Promise.all([this.activeCard.flipToBack(),e.flipToBack()])),this.activeCard=void 0,this.isAnimation=!1}}))}}t.Game=c},366:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Header=void 0,n(115);const s=n(583),i=n(185),o=n(122),a=n(113);class r extends s.BaseComponent{constructor(){super("header",["header"]),this.logo=new i.Logo,this.nav=new o.Nav,this.button=new a.Button,this.element.appendChild(this.logo.element),this.element.appendChild(this.nav.element),this.element.appendChild(this.button.element)}}t.Header=r},185:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Logo=void 0;const s=n(583);n(788);class i extends s.BaseComponent{constructor(){super("div",["logo-wrap"]),this.element.innerHTML='\n    <a class="logo-link" href=#>\n    <div class="logo__top">Match</div>\n    <div class="logo__bottom">Match</div>\n    </a>\n    '}}t.Logo=i},122:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Nav=void 0;const s=n(583);n(818);class i extends s.BaseComponent{constructor(){super("nav",["nav"]),this.element.innerHTML='\n    <ul class="nav__list">\n      <li class="nav__list-element">\n        <a href="#/about-game/" id="about-game" class="nav__list-link">About Game</a>\n      </li>\n      <li class="nav__list-element">\n        <a href="#/best-score/" id="best-score" class="nav__list-link">Best Score</a>\n      </li>\n      <li class="nav__list-element">\n        <a href="#/game-settings" id="game-settings" class="nav__list-link">Game Settings</p>\n        </a>\n      </li>\n    </ul>\n    '}}t.Nav=i},610:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Timer=void 0,n(563);const s=n(583);class i extends s.BaseComponent{constructor(){super("div",["timer"]),this.timeCounter=0,this.element.innerHTML=`\n    <span id="timer">${this.timeCounter}</span>\n    `}countSecond(e){this.timeCounter++;const t=document.getElementById("timer");t&&(t.innerHTML=`${this.timeCounter}`,this.timeCounter>=e&&(this.timeCounter=0))}timerInterval(e){console.log(this);const t=setInterval((()=>{this.countSecond(e)}),1e3);this.timeCounter>=e&&clearInterval(t)}}t.Timer=i},310:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.settings=void 0,t.settings={complexity:12,FLIP_DELAY:1e3,SHOW_TIME:3}},680:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.delay=void 0,t.delay=function(e){return new Promise((t=>{setTimeout(t,e)}))}}},t={};function n(s){var i=t[s];if(void 0!==i)return i.exports;var o=t[s]={exports:{}};return e[s].call(o.exports,o,o.exports,n),o.exports}n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{n(279);const e=n(752),t=n(226),s=n(981),i=n(286),o=new t.AboutGame,a=new s.BestScore,r=new i.GameSettings;window.addEventListener("load",(()=>{console.log(window.location.hash)})),window.onload=()=>{const t=document.getElementById("app");if(!t)throw Error("App root element not found");new e.App(t).start();const n=window.location.hash;if(console.log(n),n){if(!document.querySelectorAll(".nav__list-link"))throw Error("navEl element not found");window.addEventListener("hashchange",(()=>{console.log(window.location.hash),(e=>{console.log(window.location.hash);const t=document.querySelector(".wrapper");if(!t)throw Error("wrap root element not found");switch(t.innerHTML="",e){case"#/about-game/":t.append(o.element);break;case"#/best-score/":t.append(a.element);break;case"#/game-settings":t.append(r.element);break;default:console.log("index default")}})(window.location.hash)}))}}})()})();